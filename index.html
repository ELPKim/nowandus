<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Now and Us - Long-Distance Relationship Toolkit</title>
    <link rel="icon" type="image/png" href="favicon1.png">
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@800;900&family=Noto+Sans+KR:wght@300;500;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="background-decor">
        <div class="circle circle-1"></div>
        <div class="circle circle-2"></div>
        <div class="heart-float">❤️</div>
        <div class="heart-float" style="left: 80%; animation-delay: 2s;">💖</div>
    </div>

    <header>
        <div class="language-switcher">
            <button onclick="setLanguage('ko')">KR</button>
            <button onclick="setLanguage('en')">EN</button>
        </div>
        <h1 data-i18n="header-title">Now and Us</h1>
        <p data-i18n="header-subtitle">멀리 있어도 마음은 곁에, 장거리 연애를 위한 따뜻한 기록</p>
    </header>

    <main>
        <section id="anniversary-section" class="card category">
            <h2 data-i18n="anniversary-title">함께한 시간</h2>
            <div class="display-area">
                <p class="main-stat">
                    <span data-i18n="anniversary-text-before">우리가 사랑한 지 어느덧</span>
                    <span id="days-together"></span>
                    <span data-i18n="anniversary-text-after">일이 되었어요.</span>
                </p>
            </div>
            <div class="mini-settings">
                <button class="settings-btn" onclick="toggleMiniSettings('anniversary-settings')" data-i18n="settings-button">수정하기</button>
                <div id="anniversary-settings" class="mini-form" style="display: none;">
                    <div class="input-group">
                        <label data-i18n="label-anniversary">처음 만난 날:</label>
                        <input type="date" id="input-anniversary" onchange="saveSettings()">
                    </div>
                </div>
            </div>
        </section>

        <section id="countdown-section" class="card category">
            <h2 data-i18n="countdown-title">다시 마주 보게 될 날</h2>
            <div class="display-area">
                <p class="main-stat">
                    <span data-i18n="countdown-text-before">설레는 마음으로</span>
                    <span id="countdown-timer"></span>
                    <span data-i18n="countdown-text-after">만남을 기다려요.</span>
                </p>
                <p class="tz-info"><span data-i18n="timezone-info">만남 장소:</span> <span id="display-location"></span></p>
            </div>
            <div class="mini-settings">
                <button class="settings-btn" onclick="toggleMiniSettings('countdown-settings')" data-i18n="settings-button">수정하기</button>
                <div id="countdown-settings" class="mini-form" style="display: none;">
                    <div class="input-group">
                        <label data-i18n="label-meeting">다시 만날 날:</label>
                        <input type="datetime-local" id="input-meeting" onchange="saveSettings()">
                    </div>
                    <div class="input-group">
                        <label data-i18n="label-country">나라:</label>
                        <select id="input-country" onchange="updateAirportList()"></select>
                    </div>
                    <div class="input-group">
                        <label data-i18n="label-airport">공항:</label>
                        <select id="input-airport" onchange="saveSettings()"></select>
                    </div>
                </div>
            </div>
        </section>

        <section id="world-clock-section" class="card category">
            <h2 data-i18n="world-clock-title">다른 공간, 연결된 시간</h2>
            <div class="clock-container">
                <div class="clock-box">
                    <h3 data-i18n="my-time-label">나의 시간</h3>
                    <div id="my-time" class="time-display">--:--:--</div>
                    <div id="my-tz" class="tz-label">---</div>
                </div>
                <div class="clock-divider">✈️</div>
                <div class="clock-box">
                    <h3 data-i18n="partner-time-label">상대방의 시간</h3>
                    <div id="partner-time" class="time-display">--:--:--</div>
                    <div id="partner-tz" class="tz-label">---</div>
                </div>
            </div>
            <div class="mini-settings">
                <div class="settings-group">
                    <button class="settings-btn" onclick="toggleMiniSettings('my-clock-settings')" data-i18n="change-my-loc">나의 위치 설정</button>
                    <button class="settings-btn" onclick="toggleMiniSettings('partner-clock-settings')" data-i18n="change-partner-tz">상대방 위치 설정</button>
                </div>
                <div id="my-clock-settings" class="mini-form" style="display: none;">
                    <div class="input-group">
                        <label data-i18n="label-country">나라:</label>
                        <select id="input-my-country" onchange="updateMyCityList()"></select>
                    </div>
                    <div class="input-group">
                        <label data-i18n="label-location">위치:</label>
                        <select id="input-my-location" onchange="saveSettings()"></select>
                    </div>
                </div>
                <div id="partner-clock-settings" class="mini-form" style="display: none;">
                    <div class="input-group">
                        <label data-i18n="label-country">나라:</label>
                        <select id="input-partner-country" onchange="updatePartnerLocationList()"></select>
                    </div>
                    <div class="input-group">
                        <label data-i18n="label-location">위치:</label>
                        <select id="input-partner-location" onchange="saveSettings()"></select>
                    </div>
                </div>
            </div>
        </section>

        <section id="weather-section" class="card category">
            <h2 data-i18n="weather-title">우리의 오늘 날씨</h2>
            <div class="weather-container">
                <div class="weather-box">
                    <h3 data-i18n="my-weather-label">내가 있는 곳</h3>
                    <div id="my-weather-info" class="weather-info">--°C</div>
                </div>
                <div class="weather-divider">☁️</div>
                <div class="weather-box">
                    <h3 data-i18n="partner-weather-label">네가 있는 곳</h3>
                    <div id="partner-weather-info" class="weather-info">--°C</div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <p data-i18n="footer-text">먼 거리를 사랑으로 채워가는 모든 분들을 응원합니다 ❤️</p>
        <div class="footer-links">
            <a href="board.html" data-i18n="board-header" style="color: var(--accent-color); text-decoration: none; font-size: 0.85rem; font-weight: bold;">고객 소리함 (Customer Center)</a>
            <a href="partnership.html" data-i18n="ps-header">Partnership</a>
        </div>
    </footer>
    <script src="main.js"></script>
</body>
</html>